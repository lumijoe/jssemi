<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>js02</title>
  </head>
  <body>
    <ul></ul>
    <label>価格（入力以上のものを抽出します）：<input type="number" /></label>
    <script>
      let price = 0;
      // 要素3の配列データ：キーはnameとprice、値は金額
      const items = [
        { name: "Apple", price: 100 },
        { name: "Peach", price: 150 },
        { name: "Orange", price: 80 },
      ];

      // ユーザーが価格を入力が終わった時（focusout親にイベントが影響されるバブリングするので、blurで使ったほうがいいかも）
      document.querySelector("input").addEventListener("blur", (e) => {
        price = Number(e.currentTarget.value); //入力されたデータを取得してNumber()で整数値に変換する
        document.querySelector("ul").innerHTML = ""; //ulタグの中身を空にする

        //   引数pとか1文字でなんでも良い(pはオブジェクト配列を表している)
        const highprice = items.filter((p) => {
          return p.price >= price;
        });
        //   priceの値がprice以上のものだけを抽出して新しい配列を作成する
        const itemTag = highprice
          .map((item) => {
            return `<li>${item.name}</li>`;
          })
          .join("");
        const ultag = document.querySelector("ul");
        ultag.insertAdjacentHTML("afterbegin", itemTag);
      });
    </script>
  </body>
</html>

<!-- change, onchangeを使用するとリアルタイム表示が可能 -->
